<html ng-app="sideMenuTest">
  <head>
    <meta charset="utf-8">
    <title>Side Menus</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <link rel="stylesheet" href="../../../../dist/css/ionic.css">
    <script src="../../../../dist/js/ionic.bundle.js"></script>
  </head>
  <body>

    <div>
      <ion-nav-view></ion-nav-view>
    </div>

    <script id="menu.html" type="text/ng-template">
      <ion-side-menus>

        <ion-pane ion-side-menu-content>
          <ion-nav-bar class="bar-stable">
            <ion-nav-back-button class="button-clear"><i class="icon ion-chevron-left"></i> Back</ion-nav-back-button>
          </ion-nav-bar>
          <ion-nav-view name="menuContent" animation="slide-left-right"></ion-nav-view>
        </ion-pane>

        <ion-side-menu side="left">
          <header class="bar bar-header bar-stable">
            <h1 class="title">Left</h1>
          </header>
          <ion-content class="has-header">
            <ion-list>
              <ion-item nav-clear menu-close href="#/app/search">
                Search
              </ion-item>
              <ion-item nav-clear menu-close href="#/app/browse">
                Browse
              </ion-item>
              <ion-item nav-clear menu-close href="#/app/playlists">
                Playlists
              </ion-item>
            </ion-list>
          </ion-content>
        </ion-side-menu>
      </ion-side-menus>
    </script>

    <script id="search.html" type="text/ng-template">
      <ion-view title="Search">
        <ion-nav-buttons side="left">
          <button menu-open="left" class="button button-icon icon ion-navicon"></button>
        </ion-nav-buttons>
        <ion-content class="has-header">
          <h1>Search</h1>
        </ion-content>
      </ion-view>
    </script>

    <script id="browse.html" type="text/ng-template">
      <ion-view title="Browse">
        <ion-nav-buttons side="left">
          <button menu-open="left"class="button button-icon icon ion-navicon"></button>
        </ion-nav-buttons>
        <ion-content class="has-header">
          <h1>Browse</h1>
        </ion-content>
      </ion-view>
    </script>

    <script id="playlists.html" type="text/ng-template">
      <ion-view title="Playlists">
        <ion-nav-buttons side="left">
          <button menu-open="left" class="button button-icon icon ion-navicon"></button>
        </ion-nav-buttons>
        <ion-content class="has-header">
          <ion-list>
            <ion-item ng-repeat="playlist in playlists" href="#/app/playlists/{{playlist.id}}">
              {{playlist.title}}
            </ion-item>
          </ion-list>
        </ion-content>
      </ion-view>
    </script>

    <script id="playlist.html" type="text/ng-template">
      <ion-view title="Playlist">
        <ion-nav-buttons side="right">
          <button class="button button-icon icon ion-plus"></button>
        </ion-nav-buttons>
        <ion-content class="has-header">
          <h1>Playlist</h1>
        </ion-content>
      </ion-view>
    </script>

    <script>
      angular.module('sideMenuTest', ['ionic'])

      .config(function($stateProvider, $urlRouterProvider) {

        $stateProvider

          .state('app', {
            url: "/app",
            abstract: true,
            templateUrl: "menu.html",
            controller: 'AppCtrl'
          })

          .state('app.search', {
            url: "/search",
            views: {
              'menuContent' :{
                templateUrl: "search.html"
              }
            }
          })

          .state('app.rowse', {
            url: "/browse",
            views: {
              'menuContent' :{
                templateUrl: "browse.html"
              }
            }
          })
          .state('app.playlists', {
            url: "/playlists",
            views: {
              'menuContent' :{
                templateUrl: "playlists.html",
                controller: 'PlaylistsCtrl'
              }
            }
          })

          .state('app.single', {
            url: "/playlists/:playlistId",
            views: {
              'menuContent' :{
                templateUrl: "playlist.html",
                controller: 'PlaylistCtrl'
              }
            }
          });
        // if none of the above states are matched, use this as the fallback
        $urlRouterProvider.otherwise('/app/playlists');
      })

      .controller('AppCtrl', function($scope) {
      })

      .controller('PlaylistsCtrl', function($scope) {
        $scope.playlists = [
          { title: 'Reggae', id: 1 },
          { title: 'Chill', id: 2 },
          { title: 'Dubstep', id: 3 },
          { title: 'Indie', id: 4 },
          { title: 'Rap', id: 5 },
          { title: 'Cowbell', id: 6 }
        ];
      })

      .controller('PlaylistCtrl', function($scope, $stateParams) {
        console.log('Showing playlist', $stateParams.playlistId);
      });


    </script>
  </body>
</html>

