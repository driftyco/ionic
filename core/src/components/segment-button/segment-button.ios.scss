@import "./segment-button";
@import "./segment-button.ios.vars";

// iOS Segment Button
// --------------------------------------------------

:host {
  --background: #{$segment-button-ios-background-color};
  --background-checked: #{$segment-button-ios-background-color-checked};
  --background-hover: #{$segment-button-ios-background-color-hover};
  --background-activated: #{$segment-button-ios-background-color-activated};
  --border-radius: #{$segment-button-ios-border-radius};
  --border-width: #{$segment-button-ios-border-width};
  --border-color: #{$segment-button-ios-border-color};
  --border-style: solid;
  --transition: #{$segment-button-ios-transition};
  --padding-top: 0;
  --padding-end: 13px;
  --padding-bottom: 0;
  --padding-start: 13px;

  @include margin($segment-button-ios-margin, null, $segment-button-ios-margin, null);

  position: relative;

  flex-direction: row;

  min-width: #{$segment-button-ios-min-width};

  min-height: #{$segment-button-ios-min-height};

  // Necessary for the z-index to work properly
  transform: translate3d(0, 0, 0);

  font-size: #{$segment-button-ios-font-size};

  font-weight: 450;

  line-height: #{$segment-button-ios-line-height};
}


// Segment Button: Borders
// --------------------------------------------------

:host::before {
  @include margin(5px, 0);

  transition: 160ms opacity ease-in-out;

  transition-delay: 100ms;

  border-left: var(--border-width) var(--border-style) var(--border-color);

  content: "";
  opacity: 1;
}

:host(:first-of-type)::before {
  border-left-color: transparent;
}


// Segment Button: Disabled
// --------------------------------------------------

:host(.segment-button-disabled) .button-native {
  opacity: $segment-button-ios-opacity-disabled;
}


// Segment Button: Icon
// --------------------------------------------------

::slotted(ion-icon) {
  font-size: $segment-button-ios-icon-size;
}


// Segment Button: Layout
// --------------------------------------------------

// Layout: icon start
:host(.segment-button-layout-icon-start) ::slotted(ion-label) {
  @include margin-horizontal(2px, 0);
}

// Layout: icon end
:host(.segment-button-layout-icon-end) ::slotted(ion-label) {
  @include margin-horizontal(0, 2px);
}


// Segment Button: Hover
// --------------------------------------------------

@media (any-hover: hover) {
  :host(:hover) .button-native {
    opacity: $segment-button-ios-opacity-hover;
  }
}


// Segment Button: Activated
// --------------------------------------------------

:host(.activated:not(.segment-button-checked)) .button-native {
  opacity: $segment-button-ios-opacity-activated;
}


// Segment: Checked & Activated
// --------------------------------------------------

:host(.segment-button-checked) {
  font-weight: 500;
}


// Segment: Checked Indicator
// --------------------------------------------------

.segment-checked-indicator {
  @include padding(null, $segment-button-ios-margin, null, $segment-button-ios-margin);
  @include position(0, 0, 0, 0);
}

.segment-checked-indicator-background {
  @include border-radius($segment-button-ios-border-radius);

  background: var(--indicator-color);

  box-shadow: $segment-button-ios-box-shadow-checked;
}
